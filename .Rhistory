labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
map1
## plot on ggmap background
map1 <- ggmap(map_z14) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments1,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm1, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 10, 0, 0))+
coord_fixed(expand = FALSE)
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 0, 0, 10))+
coord_fixed(expand = FALSE)
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 0, 0, 10))+
coord_sf(expand = FALSE)
## plot on ggmap background
map1 <- ggmap(map_z14) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments1,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm1, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 10, 0, 0))+
coord_sf(expand = FALSE)
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
# multi plot
ggarrange(map1, map2,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
?ggarrange
# hmm subset, Nutmeg 1 week
dates1 <- seq(as.Date("2023-04-22"), as.Date("2023-05-01"), "days")
sample_hmm1 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Nutmeg" & date_bird %in% dates1) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments1 <- sample_hmm1 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map1 <- ggmap(map_z14) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments1,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm1, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 10, 0, 0))
# hmm subset, Fauna 1 week
dates2 <- seq(as.Date("2023-06-07"), as.Date("2023-06-14"), "days")
sample_hmm2 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Fauna" & date_bird %in% dates2) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments2 <- sample_hmm2 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 0, 0, 10))
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
widths = c(1, 1),
common.legend = TRUE, legend = "bottom")
# hmm subset, Nutmeg 1 week
dates1 <- seq(as.Date("2023-04-22"), as.Date("2023-05-01"), "days")
sample_hmm1 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Nutmeg" & date_bird %in% dates1) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments1 <- sample_hmm1 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map1 <- ggmap(map_z14) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments1,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm1, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(5, 5, 0, 0))
# hmm subset, Fauna 1 week
dates2 <- seq(as.Date("2023-06-07"), as.Date("2023-06-14"), "days")
sample_hmm2 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Fauna" & date_bird %in% dates2) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments2 <- sample_hmm2 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 0, 5, 5))
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
widths = c(1, 1),
common.legend = TRUE, legend = "bottom")
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
widths = c(1, 1),
common.legend = TRUE, legend = "bottom")
# hmm subset, Nutmeg 1 week
dates1 <- seq(as.Date("2023-04-22"), as.Date("2023-05-01"), "days")
sample_hmm1 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Nutmeg" & date_bird %in% dates1) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments1 <- sample_hmm1 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map1 <- ggmap(map_z14) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments1,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm1, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
# hmm subset, Fauna 1 week
dates2 <- seq(as.Date("2023-06-07"), as.Date("2023-06-14"), "days")
sample_hmm2 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Fauna" & date_bird %in% dates2) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments2 <- sample_hmm2 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black",
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
widths = c(1, 1),
common.legend = TRUE, legend = "bottom")
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black", text_size = 12,
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
?annotation_scale
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black", text_cex = 12,
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
map2
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black", text_cex = 1,
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
map2
# hmm subset, Nutmeg 1 week
dates1 <- seq(as.Date("2023-04-22"), as.Date("2023-05-01"), "days")
sample_hmm1 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Nutmeg" & date_bird %in% dates1) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments1 <- sample_hmm1 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map1 <- ggmap(map_z14) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments1,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm1, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "white", text_cex = 1,
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
# hmm subset, Fauna 1 week
dates2 <- seq(as.Date("2023-06-07"), as.Date("2023-06-14"), "days")
sample_hmm2 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Fauna" & date_bird %in% dates2) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments2 <- sample_hmm2 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "white", text_cex = 1,
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
widths = c(1, 1),
common.legend = TRUE, legend = "bottom")
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
widths = c(1, 1),
common.legend = TRUE, legend = "bottom")
# hmm subset, Nutmeg 1 week
dates1 <- seq(as.Date("2023-04-22"), as.Date("2023-05-01"), "days")
sample_hmm1 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Nutmeg" & date_bird %in% dates1) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments1 <- sample_hmm1 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map1 <- ggmap(map_z14) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments1,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm1, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black", text_cex = 0.8,
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
# hmm subset, Fauna 1 week
dates2 <- seq(as.Date("2023-06-07"), as.Date("2023-06-14"), "days")
sample_hmm2 <- read.csv("data/data_hmm.csv") %>%
filter(ID == "Fauna" & date_bird %in% dates2) %>%
mutate(states = as_factor(states)) %>%
arrange(date)
## create segments to colour path
segments2 <- sample_hmm2 %>%
mutate(next_lon = lead(longitude),
next_lat = lead(latitude),
next_state = lead(states)) %>%
filter(!is.na(next_lon))
## plot on ggmap background
map2 <- ggmap(map_z15) +
geom_spatvector(data = mtr, inherit.aes = FALSE, fill = NA, colour = "white",
linetype = "longdash") +
geom_segment(data = segments2,
aes(x = longitude, y = latitude,
xend = next_lon, yend = next_lat,
color = states)) +
geom_point(data = sample_hmm2, aes(longitude, latitude, colour = states)) +
scale_colour_viridis_d() +
theme_void()+
annotation_north_arrow(location = "tr",
height = unit(0.8, "cm"), width = unit(0.7, "cm"),
style = north_arrow_orienteering(text_col = "black"))+
# add scale bar in just the resident facet panel
annotation_scale(location = "br", text_col = "black", text_cex = 0.8,
pad_x = unit(0.1, "cm"), pad_y = unit(0.4, "cm"))+
ggplot2::theme(plot.margin = margin(0, 5, 0, 5))
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
# multi plot
ggarrange(map1, map2,
ncol = 2, nrow = 1,
labels = c("A", "B"),
common.legend = TRUE, legend = "bottom")
